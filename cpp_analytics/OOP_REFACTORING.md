# –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ C++ –∫–æ–¥—É –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∏ –û–û–ü

## üìã –©–æ –∑—Ä–æ–±–ª–µ–Ω–æ

–ü–µ—Ä–µ–ø–∏—Å–∞–Ω–æ `analytics.cpp` –∑ —Ñ—É–Ω–∫—Ü—ñ–π–Ω–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É –Ω–∞ **Object-Oriented Programming (OOP)** –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –∫–ª–∞—Å—ñ–≤ —Ç–∞ –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ –û–û–ü.

## üéØ –ü—Ä–∏–Ω—Ü–∏–ø–∏ –û–û–ü, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ

### 1. **–Ü–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—è (Encapsulation)**
- –î–∞–Ω—ñ —Ç–∞ –º–µ—Ç–æ–¥–∏ –æ–±'—î–¥–Ω–∞–Ω—ñ –≤ –∫–ª–∞—Å–∏
- –ü—Ä–∏–≤–∞—Ç–Ω—ñ –ø–æ–ª—è –∑ –≥–µ—Ç—Ç–µ—Ä–∞–º–∏/—Å–µ—Ç—Ç–µ—Ä–∞–º–∏
- –ü—Ä–∏–≤–∞—Ç–Ω—ñ –º–µ—Ç–æ–¥–∏ –¥–ª—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—ó –ª–æ–≥—ñ–∫–∏

**–ü—Ä–∏–∫–ª–∞–¥–∏:**
```cpp
class SaleItem {
private:
    int product_id;
    string product_name;
    // ...
public:
    int getProductId() const { return product_id; }
    void setProductId(int id) { product_id = id; }
    // ...
};
```

### 2. **–ê–±—Å—Ç—Ä–∞–∫—Ü—ñ—è (Abstraction)**
- –ö–ª–∞—Å–∏ –∞–±—Å—Ç—Ä–∞–≥—É—é—Ç—å —Å–∫–ª–∞–¥–Ω—É –ª–æ–≥—ñ–∫—É
- `AnalyticsEngine` - –≥–æ–ª–æ–≤–Ω–∏–π –∫–ª–∞—Å, —è–∫–∏–π –∫–æ–æ—Ä–¥–∏–Ω—É—î –≤—Å–µ
- `JSONParser` - –∞–±—Å—Ç—Ä–∞–≥—É—î –ø–∞—Ä—Å–∏–Ω–≥ JSON
- `StatisticsCalculator` - –∞–±—Å—Ç—Ä–∞–≥—É—î –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫

### 3. **–ö–æ–º–ø–æ–∑–∏—Ü—ñ—è (Composition)**
- –ö–ª–∞—Å–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —ñ–Ω—à—ñ –∫–ª–∞—Å–∏
- `Sale` –º—ñ—Å—Ç–∏—Ç—å `vector<SaleItem>`
- `AnalyticsEngine` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `JSONParser`, `StatisticsCalculator`, —Ç–æ—â–æ

### 4. **–°—Ç–∞—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏ (Static Methods)**
- –£—Ç–∏–ª—ñ—Ç–∞—Ä–Ω—ñ –∫–ª–∞—Å–∏ –∑ —Å—Ç–∞—Ç–∏—á–Ω–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏
- `NumberParser::parseInteger()`, `NumberParser::parseDouble()`
- `DateParser::parseYMD()`
- `JSONEscaper::escape()`

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—ñ–≤

### –ö–ª–∞—Å–∏ –¥–∞–Ω–∏—Ö (Data Classes):
1. **`SaleItem`** - –ø–æ–∑–∏—Ü—ñ—è –ø—Ä–æ–¥–∞–∂—É
   - –ü—Ä–∏–≤–∞—Ç–Ω—ñ –ø–æ–ª—è: product_id, product_name, quantity, price, —Ç–æ—â–æ
   - –ì–µ—Ç—Ç–µ—Ä–∏/—Å–µ—Ç—Ç–µ—Ä–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø—É
   
2. **`Sale`** - –ø—Ä–æ–¥–∞–∂
   - –ü—Ä–∏–≤–∞—Ç–Ω—ñ –ø–æ–ª—è: id, date, total_amount, items
   - –ú–µ—Ç–æ–¥–∏: `addItem()`, `getItemsCount()`, `calculateTotalFromItems()`

3. **`TopProduct`** - —Ç–æ–≤–∞—Ä —É —Ç–æ–ø—ñ
   - –°—Ç–∞—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è: `compareByRevenue()`, `compareByQuantity()`

4. **`Statistics`** - —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—ñ –¥–∞–Ω—ñ
   - –ú–µ—Ç–æ–¥ `reset()` –¥–ª—è –æ–±–Ω—É–ª–µ–Ω–Ω—è

5. **`ABCResult`** - —Ä–µ–∑—É–ª—å—Ç–∞—Ç ABC-–∞–Ω–∞–ª—ñ–∑—É

### –£—Ç–∏–ª—ñ—Ç–∞—Ä–Ω—ñ –∫–ª–∞—Å–∏ (Utility Classes):
1. **`NumberParser`** - –ø–∞—Ä—Å–∏–Ω–≥ —á–∏—Å–µ–ª
   - –°—Ç–∞—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏: `parseInteger()`, `parseDouble()`

2. **`DateParser`** - –ø–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç
   - –°—Ç–∞—Ç–∏—á–Ω–∏–π –º–µ—Ç–æ–¥: `parseYMD()`

3. **`JSONEscaper`** - –µ–∫—Ä–∞–Ω—É–≤–∞–Ω–Ω—è JSON
   - –°—Ç–∞—Ç–∏—á–Ω–∏–π –º–µ—Ç–æ–¥: `escape()`

### –ö–ª–∞—Å–∏ –æ–±—á–∏—Å–ª–µ–Ω—å (Calculation Classes):
1. **`JSONParser`** - –ø–∞—Ä—Å–∏–Ω–≥ JSON
   - –ü—Ä–∏–≤–∞—Ç–Ω—ñ –º–µ—Ç–æ–¥–∏: `extractStringValue()`, `extractNumericValue()`, `parseSaleItem()`
   - –ü—É–±–ª—ñ—á–Ω–∏–π –º–µ—Ç–æ–¥: `parseSales()`

2. **`StatisticsCalculator`** - –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫
   - –°—Ç–∞—Ç–∏—á–Ω–∏–π –º–µ—Ç–æ–¥: `calculate()`

3. **`DataAggregator`** - –∞–≥—Ä–µ–≥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö
   - –°—Ç–∞—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏: `aggregateByDay()`, `aggregateByWeek()`, `aggregateByMonth()`

4. **`TopProductsCalculator`** - –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —Ç–æ–ø —Ç–æ–≤–∞—Ä—ñ–≤
   - –°—Ç–∞—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏: `byRevenue()`, `byQuantity()`

5. **`CategorySharesCalculator`** - –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —á–∞—Å—Ç–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π
   - –°—Ç–∞—Ç–∏—á–Ω–∏–π –º–µ—Ç–æ–¥: `calculate()`

6. **`ABCAnalyzer`** - ABC-–∞–Ω–∞–ª—ñ–∑
   - –°—Ç–∞—Ç–∏—á–Ω–∏–π –º–µ—Ç–æ–¥: `analyze()`

7. **`JSONOutputFormatter`** - —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –≤–∏–≤–æ–¥—É
   - –°—Ç–∞—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏ –¥–ª—è –≤–∏–≤–æ–¥—É —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –¥–∞–Ω–∏—Ö

### –ì–æ–ª–æ–≤–Ω–∏–π –∫–ª–∞—Å:
1. **`AnalyticsEngine`** - –≥–æ–ª–æ–≤–Ω–∏–π –∫–ª–∞—Å –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏
   - –ü—Ä–∏–≤–∞—Ç–Ω—ñ –ø–æ–ª—è: `sales`
   - –ü—Ä–∏–≤–∞—Ç–Ω—ñ –º–µ—Ç–æ–¥–∏: `calculateTotalRevenue()`, `extractSaleAmounts()`
   - –ü—É–±–ª—ñ—á–Ω—ñ –º–µ—Ç–æ–¥–∏: `hasData()`, `processAndOutput()`

## üîÑ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø—ñ–¥—Ö–æ–¥—ñ–≤

### –§—É–Ω–∫—Ü—ñ–π–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ (–æ—Ä–∏–≥—ñ–Ω–∞–ª):
```cpp
struct Sale {
    int id;
    string date;
    double total_amount;
    vector<SaleItem> items;
};

vector<Sale> parseSales(const string& json) {
    // –õ–æ–≥—ñ–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥—É
}

map<string, double> aggregateByDay(const vector<Sale>& sales) {
    // –õ–æ–≥—ñ–∫–∞ –∞–≥—Ä–µ–≥–∞—Ü—ñ—ó
}
```

### –û–û–ü –ø—ñ–¥—Ö—ñ–¥ (–Ω–æ–≤–∞ –≤–µ—Ä—Å—ñ—è):
```cpp
class Sale {
private:
    int id;
    string date;
    double total_amount;
    vector<SaleItem> items;
public:
    int getId() const { return id; }
    void addItem(const SaleItem& item) { items.push_back(item); }
    // ...
};

class JSONParser {
private:
    string json;
    size_t pos;
    // –ü—Ä–∏–≤–∞—Ç–Ω—ñ –º–µ—Ç–æ–¥–∏ –ø–∞—Ä—Å–∏–Ω–≥—É
public:
    vector<Sale> parseSales();
};

class AnalyticsEngine {
private:
    vector<Sale> sales;
public:
    AnalyticsEngine(const string& jsonInput);
    void processAndOutput();
};
```

## ‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏ –û–û–ü –ø—ñ–¥—Ö–æ–¥—É

1. **–Ü–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—è**
   - –î–∞–Ω—ñ –∑–∞—Ö–∏—â–µ–Ω—ñ —á–µ—Ä–µ–∑ –ø—Ä–∏–≤–∞—Ç–Ω—ñ –ø–æ–ª—è
   - –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –≥–µ—Ç—Ç–µ—Ä–∏/—Å–µ—Ç—Ç–µ—Ä–∏
   - –í–Ω—É—Ç—Ä—ñ—à–Ω—è –ª–æ–≥—ñ–∫–∞ –ø—Ä–∏—Ö–æ–≤–∞–Ω–∞

2. **–ö—Ä–∞—â–∞ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è**
   - –õ–æ–≥—ñ–∫–∞ –∑–≥—Ä—É–ø–æ–≤–∞–Ω–∞ –≤ –∫–ª–∞—Å–∏
   - –õ–µ–≥—à–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –∫–æ–¥

3. **–ü–µ—Ä–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è**
   - –°—Ç–∞—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –±–µ–∑ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤
   - –ö–ª–∞—Å–∏ –º–æ–∂–Ω–∞ —Ä–æ–∑—à–∏—Ä—é–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è

4. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è**
   - –õ–µ–≥—à–µ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –æ–∫—Ä–µ–º—ñ –∫–ª–∞—Å–∏
   - –ú–æ–∂–Ω–∞ –º–æ–∫—É–≤–∞—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

- `analytics.cpp` - –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∞ –≤–µ—Ä—Å—ñ—è (—Ñ—É–Ω–∫—Ü—ñ–π–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥)
- `analytics_oop.cpp` - –Ω–æ–≤–∞ –≤–µ—Ä—Å—ñ—è (–û–û–ü –ø—ñ–¥—Ö—ñ–¥)
- `Makefile` - –æ–Ω–æ–≤–ª–µ–Ω–æ –¥–ª—è –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó –æ–±–æ—Ö –≤–µ—Ä—Å—ñ–π

## üîß –ö–æ–º–ø—ñ–ª—è—Ü—ñ—è

```bash
# –ö–æ–º–ø—ñ–ª—è—Ü—ñ—è –æ–±–æ—Ö –≤–µ—Ä—Å—ñ–π
make

# –ê–±–æ —Ç—ñ–ª—å–∫–∏ –û–û–ü –≤–µ—Ä—Å—ñ—ó
g++ -std=c++11 -Wall -O2 -o analytics_oop analytics_oop.cpp
```

## üéì –í—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –û–û–ü

| –ü—Ä–∏–Ω—Ü–∏–ø | –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è |
|---------|-----------|
| **–Ü–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—è** | ‚úÖ –ü—Ä–∏–≤–∞—Ç–Ω—ñ –ø–æ–ª—è, –≥–µ—Ç—Ç–µ—Ä–∏/—Å–µ—Ç—Ç–µ—Ä–∏ |
| **–ê–±—Å—Ç—Ä–∞–∫—Ü—ñ—è** | ‚úÖ –ö–ª–∞—Å–∏ –∞–±—Å—Ç—Ä–∞–≥—É—é—Ç—å —Å–∫–ª–∞–¥–Ω—É –ª–æ–≥—ñ–∫—É |
| **–ö–æ–º–ø–æ–∑–∏—Ü—ñ—è** | ‚úÖ –ö–ª–∞—Å–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —ñ–Ω—à—ñ –∫–ª–∞—Å–∏ |
| **–ù–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è** | ‚ö†Ô∏è –ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ (–º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –±–∞–∑–æ–≤—ñ –∫–ª–∞—Å–∏) |
| **–ü–æ–ª—ñ–º–æ—Ä—Ñ—ñ–∑–º** | ‚ö†Ô∏è –ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ (–º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω—ñ –º–µ—Ç–æ–¥–∏) |

## üìù –í–∏—Å–Ω–æ–≤–æ–∫

–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ –û–û–ü:
- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø—Ä–∏–Ω—Ü–∏–ø–∏ –û–û–ü (—ñ–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—è, –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—è, –∫–æ–º–ø–æ–∑–∏—Ü—ñ—è)
- ‚úÖ –ö—Ä–∞—â–∞ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è –∫–æ–¥—É
- ‚úÖ –õ–µ–≥—à–µ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —Ç–∞ —Ä–æ–∑—à–∏—Ä—é–≤–∞—Ç–∏
- ‚úÖ –í—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Å—É—á–∞—Å–Ω–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º C++

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –∑–±–µ—Ä–µ–∂–µ–Ω–∞** - –æ–±–∏–¥–≤—ñ –≤–µ—Ä—Å—ñ—ó –ø—Ä–∞—Ü—é—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤–æ, –∑–º—ñ–Ω–µ–Ω–æ —Ç—ñ–ª—å–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–¥—É.

